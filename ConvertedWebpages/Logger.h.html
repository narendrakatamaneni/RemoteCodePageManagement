<DOCTYPE !HTML>
<html>
  <head>
    <Title>Logger.h</Title>
    <style>
      body {
        padding:15px 40px;
        font-family: Consolas;
        font-size: 1.25em;
        font-weight: normal;
      }
      </style>
  <link rel = "stylesheet" type = "text/css" href = "style.css" >
  <script src="script.js"> </script> 
  </head>

  <body>
 <input type ="submit" value= "Comments" id ="cmt" onclick="togglevisibility('comments')" ></input>
 <input type ="submit" value= "Class"  id ="cls" onclick="togglevisibility('clsClass')" ></input>
 <input type ="submit" value= "Function" id ="fun" onclick="togglevisibility('funClass')" ></input>
    <pre>
#ifndef LOGGERA_H
#define LOGGERA_H
<span class="comments">/////////////////////////////////////////////////////////////////////</span>
<span class="comments">// Logger.h - log text messages to std::ostream                    //</span>
<span class="comments">// ver 1.0                                                         //</span>
<span class="comments">// Author:     Jim Fawcett, Syracuse University					  //</span>
<span class="comments">/////////////////////////////////////////////////////////////////////</span>

<span class="comments">/*
* Package Operations:
* -------------------
* This package supports logging for multiple concurrent clients to a
* single std::ostream.  It does this be enqueuing messages in a
* blocking queue and dequeuing with a single thread that writes to
* the std::ostream.
*
* Build Process:
* --------------
* Required Files: Cpp11-BlockingQueue.h
*
* Build Command: devenv logger.sln /rebuild debug
*
* Maintenance History:
* --------------------
* ver 1.0 : 11 Feb 2019
* - added multiple stream capability
*
* Planned Additions and Changes:
* ------------------------------
* - none yet
*/</span>

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;thread&gt;
#include "Cpp11-BlockingQueue.h"

namespace Logging {

  class Logger
  <span class="clsClass">{
  public:
    Logger() <span class="funClass">{
	}</span>
    bool attach(std::ostream* pOut);
    bool detach(std::ostream* pOut);
    void start();
    bool running();
    void pause(bool doPause);
    bool paused();
    void flush();
    void stop(const std::string& msg = "");
    void wait();
    void write(const std::string& msg);
    void title(const std::string& msg, char underline = '-');
    ~Logger();
    Logger(const Logger&) = delete;
    Logger& operator=(const Logger&) = delete;
  private:
    std::thread* _pThr;
    std::vector&lt;std::ostream*&gt; _streams;
    BlockingQueue&lt;std::string&gt; _queue;
    bool _ThreadRunning = false;
    bool _Paused = false;
  };
</span>
  template&lt;int i&gt;
  class StaticLogger
  <span class="clsClass">{
  public:
    static bool attach(std::ostream* pOut) { return _logger.attach(pOut); }</span>
    static bool detach(std::ostream* pOut) { return _logger.detach(pOut); }</span>
    static void start() { _logger.start(); }</span>
    static bool running() { return _logger.running(); }</span>
    static void flush() { _logger.flush(); }</span>
    static void stop(const std::string& msg = "") { _logger.stop(msg); }</span>
    static void write(const std::string& msg) { _logger.write(msg); }</span>
    static void title(const std::string& msg, char underline = '-') { _logger.title(msg, underline); }</span>
    static Logger& instance() { return _logger; }</span>
    StaticLogger(const StaticLogger&) = delete;
    StaticLogger& operator=(const StaticLogger&) = delete;
  private:
    static Logger _logger;
  };
</span>
  template&lt;int i&gt;
  Logger StaticLogger&lt;i&gt;::_logger;

  template&lt;int i&gt;
  inline static StaticLogger&lt;i&gt; operator &lt;&lt;(StaticLogger&lt;i&gt;, const std::string& str) <span class="funClass">{
    StaticLogger&lt;i&gt;::write(str);
    return StaticLogger&lt;i&gt;;
  }</span>

  using LoggerDebug = StaticLogger&lt;1&gt;;
  using LoggerDemo = StaticLogger&lt;2&gt;;
}

#endif
    </pre>
  </body>
</html>
